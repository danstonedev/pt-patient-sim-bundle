<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PT Sim Patient — Trainer</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app">
    <header>
      <h1>PT Simulated Patient</h1>
      <div class="status"><span id="status">Ready</span></div>
    </header>

    <main class="grid">
      <!-- LEFT: Patient & Controls -->
      <section class="left">
        <div class="card">
          <h2>Patient</h2>
          <div class="field">
            <label for="patient">Select</label>
            <select id="patient"></select>
          </div>
          <div id="preview" class="preview">
            <div class="row"><strong>Name:</strong> <span id="p_name">—</span></div>
            <div class="row"><strong>Age:</strong> <span id="p_age">—</span></div>
            <div class="row"><strong>Condition:</strong> <span id="p_cond">—</span></div>
            <div class="row"><strong>Chief complaint:</strong> <span id="p_cc">—</span></div>
            <div class="row"><strong>Language:</strong> <span id="p_lang">—</span></div>
            <div class="row"><strong>Interpreter needed:</strong> <span id="p_interp">—</span></div>
          </div>
        </div>

        <div class="card">
          <h2>Controls</h2>
          <div class="field">
            <label for="mode">Mode</label>
            <select id="mode">
              <option value="stream">LLM (stream)</option>
              <option value="sync">LLM (sync)</option>
            </select>
          </div>
          <div class="actions">
            <button id="btn-interpreter" title="Signal that an interpreter is available now">Interpreter present</button>
            <button id="clear">Reset session</button>
          </div>
        </div>

        <div class="card">
          <h2>Scoring</h2>
          <div class="score-top">
            <div class="score-number"><span id="score-num">—</span></div>
            <div class="score-bar"><div id="score-bar-fill"></div></div>
            <div class="score-caption">Intake quality</div>
          </div>
          <div class="score-actions">
            <button id="btn-score">End & Score</button>
            <button id="btn-score-clear" class="ghost">Clear score</button>
          </div>
          <div id="score-details" class="score-details"></div>
        </div>
      </section>

      <!-- RIGHT: Chat -->
      <section class="right">
        <div class="card chat">
          <div id="transcript" class="transcript"></div>
          <div class="inputbar">
            <input id="user" placeholder="Ask the patient..." />
            <button id="send">Send</button>
          </div>
        </div>
      </section>
    </main>
  </div>
  <script src="app.js"></script>
</body>
</html>
